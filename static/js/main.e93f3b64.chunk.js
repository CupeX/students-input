(this["webpackJsonpstudents-input"]=this["webpackJsonpstudents-input"]||[]).push([[0],{32:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){},50:function(e,t,c){},51:function(e,t,c){},57:function(e,t,c){},58:function(e,t,c){"use strict";c.r(t);var n=c(3),s=c.n(n),j=c(33),i=c.n(j),a=c(10),r=(c(39),c(6)),d=(c(40),c(41),c(2)),u=function(){var e=Object(r.f)();return Object(d.jsxs)("header",{children:[Object(d.jsx)("div",{className:"logo",children:Object(d.jsx)(a.b,{to:"/students-input",children:"CupeX first app"})}),Object(d.jsx)("nav",{children:Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:Object(d.jsx)(a.b,{to:"/students-input/all-students",children:"Students"})}),Object(d.jsx)("li",{children:Object(d.jsx)(a.b,{to:"/students-input/all-subjects",children:"Subjects"})}),Object(d.jsx)("li",{children:Object(d.jsx)(a.b,{to:"/students-input/all-professors",children:"Professors"})}),Object(d.jsx)("li",{children:Object(d.jsxs)("select",{className:"sort-btn",onChange:function(t){return function(t){e.push("/students-input/".concat(t))}(t.target.value)},children:[Object(d.jsx)("option",{value:"add",children:"Add new?"}),Object(d.jsx)("option",{value:"add-new-student",children:"Add new student"}),Object(d.jsx)("option",{value:"add-new-professor",children:"Add new profesor"}),Object(d.jsx)("option",{value:"add-new-subject",children:"Add new subject"})]})})]})})]})},l=(c(50),function(e){return Object(d.jsx)("div",{className:"card",children:e.children})}),b=function(){return Object(d.jsx)(l,{children:Object(d.jsx)("h1",{children:"Home Page"})})},o=(c(51),function(){return Object(d.jsxs)(l,{children:[Object(d.jsx)("h2",{children:"Add new:"}),Object(d.jsxs)("ul",{className:"addNewUl",children:[Object(d.jsx)("li",{children:Object(d.jsx)(a.b,{to:"/students-input/add-new-student",children:Object(d.jsx)("button",{className:"change-btn",children:"student"})})}),Object(d.jsx)("li",{children:Object(d.jsx)(a.b,{to:"/students-input/add-new-subject",children:Object(d.jsx)("button",{className:"change-btn",children:"subject"})})}),Object(d.jsx)("li",{children:Object(d.jsx)(a.b,{to:"/students-input/add-new-professor",children:Object(d.jsx)("button",{className:"change-btn",children:"professor"})})})]})]})}),O=function(){return Object(d.jsx)(o,{})},h=c(17),f=c(11),x=c(5),p=c(22);c(56);p.a.initializeApp({apiKey:"AIzaSyAmiHfPoCndQtpGB3sdhvNAnzER_NYqRq0",authDomain:"students-input.firebaseapp.com",databaseURL:"https://students-input-default-rtdb.europe-west1.firebasedatabase.app",projectId:"students-input",storageBucket:"students-input.appspot.com",messagingSenderId:"1037427824217",appId:"1:1037427824217:web:edad276ef09ea0b4688348",measurementId:"G-459YJZBEBM"}),p.a.analytics();var m=p.a.firestore(),v=(p.a.firestore,m),N=(c(57),function(){var e=Object(r.h)(),t=Object(n.useState)([]),c=Object(x.a)(t,2),s=c[0],j=c[1],i=Object(n.useState)(!0),u=Object(x.a)(i,2),b=u[0],o=u[1],O=v.collection("students");Object(n.useEffect)((function(){O.get().then((function(e){return e.forEach((function(e){var t=e.data(),c=e.id,n=Object(f.a)({id:c},t);s.find((function(e){return e.id=c}))||(j((function(e){return[].concat(Object(h.a)(e),[n])})),o(!1))}))}))}),[]);var p=function(e){+prompt("enter password")===+s.filter((function(t){return t.id===e})).map((function(e){return e.password}))?(!function(e){O.doc(e).delete().then((function(){console.log("Student successfully deleted!")}))}(e),console.log("student deleted")):alert("wrong password!")},m=Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:" All Students"}),Object(d.jsxs)("select",{className:"sort-btn",onChange:function(e){!function(e){var t=e;s.sort((function(e,c){return e[t]>c[t]?1:-1}));var c=JSON.parse(JSON.stringify(s));j(c)}(e.target.value)},children:[Object(d.jsx)("option",{value:"order",children:"sort by:"}),Object(d.jsx)("option",{value:"fName",children:"First Name"}),Object(d.jsx)("option",{value:"lName",children:"Last name"}),Object(d.jsx)("option",{value:"year",children:"Date of Birth"})]})]});return Object(d.jsxs)(l,{children:[m,b&&Object(d.jsx)("h2",{children:"Loading..."}),s.map((function(t){return Object(d.jsxs)("div",{className:"item-wrapper",id:t.id,children:[Object(d.jsxs)("div",{className:"info-wrapper",children:[Object(d.jsx)("span",{children:"student: "}),Object(d.jsx)("span",{children:t.fName}),Object(d.jsxs)("span",{children:[t.lName,","]}),Object(d.jsxs)("span",{children:["born: ",t.year]})]}),Object(d.jsxs)("div",{className:"btn-wrapper",children:[Object(d.jsx)(a.b,{to:"".concat(e.url,"/details/").concat(t.id),children:Object(d.jsx)("button",{className:"info-btn",children:"\u2139"})}),Object(d.jsx)(a.b,{to:"".concat(e.url,"/edit/").concat(t.id),children:Object(d.jsx)("button",{className:"change-btn",children:"edit"})}),Object(d.jsx)("button",{className:"delete-btn",onClick:function(){return p(t.id)},children:"delete"})]})]},t.id)}))]})}),g=function(){return Object(d.jsx)(N,{})},S=function(e){return Object(d.jsxs)("div",{className:"form-control",children:[Object(d.jsx)("label",{htmlFor:e.id,children:e.label}),Object(d.jsx)("input",{placeholder:e.placeholder,type:e.type,id:e.fName,value:e.value,onChange:e.onChange})]})},y=s.a.memo((function(e){var t=Object(n.useState)(""),c=Object(x.a)(t,2),s=c[0],j=c[1],i=Object(n.useState)(""),a=Object(x.a)(i,2),u=a[0],b=a[1],o=Object(n.useState)(""),O=Object(x.a)(o,2),h=O[0],f=O[1],p=Object(n.useState)(""),m=Object(x.a)(p,2),v=m[0],N=m[1],g=Object(n.useState)(!1),y=Object(x.a)(g,2),w=(y[0],y[1]),E=Object(n.useState)({}),C=Object(x.a)(E,2),A=(C[0],C[1]),I=Object(r.f)();return Object(d.jsx)("section",{children:Object(d.jsxs)(l,{children:[Object(d.jsx)("h2",{children:"Students input form"}),Object(d.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),""===s||""===u||""===h||""===v)return w(!1),void alert("pls fill all fields");w(!0);var c={fName:s,lName:u,year:h,password:v,subjects:[]};A(c),e.onAddStudent(c),j(""),b(""),f(""),N(""),I.replace("/students-input/all-students")},children:[Object(d.jsx)(S,{type:"text",id:"fName",onChange:function(e){j(e.target.value)},placeholder:e.student?"".concat(e.student.fName):"",value:s,label:"First name:"}),Object(d.jsx)(S,{type:"text",id:"lName",onChange:function(e){b(e.target.value)},placeholder:e.student?"".concat(e.student.lName):"",value:u,label:"Last name:"}),Object(d.jsx)(S,{type:"date",min:"1111-01-01",id:"year",onChange:function(e){f(e.target.value)},placeholder:e.student?"".concat(e.student.year):"",value:h,label:"Date of Birth:"}),Object(d.jsx)(S,{placeholder:e.student?"".concat(e.student.password):"",type:"number",id:"pass",value:v,onChange:function(e){N(e.target.value)},label:"Password:"}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{type:"submit",className:"add-btn",children:e.student?"save changes":"add student"})})]})]})})})),w=function(){return Object(d.jsx)(y,{onAddStudent:function(e){v.collection("students").add(e).then((function(e){}))}})},E=function(){return Object(d.jsx)(w,{})},C=function(){var e=Object(r.g)(),t=Object(n.useState)({}),c=Object(x.a)(t,2),s=c[0],j=c[1],i=v.collection("students").doc(e.id);Object(n.useEffect)((function(){i.get().then((function(e){var t=e.data();j(t)}))}),[]);return Object(d.jsx)(y,{onAddStudent:function(e){i.update(e).then((function(){console.log("Document edited")}))},student:s})},A=function(){return Object(d.jsx)(C,{})},I=function(){var e=Object(n.useState)({}),t=Object(x.a)(e,2),c=t[0],s=t[1],j=Object(n.useState)([]),i=Object(x.a)(j,2),a=i[0],u=i[1],b=Object(n.useState)([]),o=Object(x.a)(b,2),O=o[0],h=o[1],p=Object(n.useState)(!1),m=Object(x.a)(p,2),N=m[0],g=m[1],S=Object(n.useState)(!1),y=Object(x.a)(S,2),w=y[0],E=y[1],C=Object(n.useState)(!1),A=Object(x.a)(C,2),I=A[0],k=A[1],L=Object(n.useState)(!1),P=Object(x.a)(L,2),F=P[0],D=P[1],J=Object(r.g)().id;return Object(n.useEffect)((function(){N&&w&&I&&D(!0)}),[N,w,I,F]),Object(n.useEffect)((function(){v.collection("students").doc(J).get().then((function(e){var t=e.data();s(t)})).finally((function(){g(!0)}))}),[J]),Object(n.useEffect)((function(){v.collection("subjects").get().then((function(e){var t=[];e.forEach((function(e){var c=e.data(),n=e.id,s=Object(f.a)({id:n},c);t.push(s)})),u(t)})).finally((function(){E(!0)}))}),[]),Object(n.useEffect)((function(){v.collection("professors").get().then((function(e){var t=[];e.forEach((function(e){var c=e.data(),n=e.id,s=Object(f.a)({id:n},c);t.push(s)})),h(t)})).finally((function(){k(!0)}))}),[]),F?Object(d.jsxs)(l,{children:[Object(d.jsxs)("h2",{children:[c.fName," ",c.lName," info:"]}),Object(d.jsxs)("table",{className:"student-details-dable",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"first name"}),Object(d.jsx)("th",{children:"last name"}),Object(d.jsx)("th",{children:"date of birth"}),Object(d.jsx)("th",{children:"password"}),Object(d.jsx)("th",{children:"unique id"})]})}),Object(d.jsx)("tbody",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:c.fName}),Object(d.jsx)("td",{children:c.lName}),Object(d.jsx)("td",{children:c.year}),Object(d.jsx)("td",{children:c.password}),Object(d.jsx)("td",{children:J})]})})]}),Object(d.jsxs)("table",{className:"student-details-dable",children:[Object(d.jsxs)("thead",{children:[Object(d.jsx)("tr",{children:Object(d.jsxs)("th",{children:["Subjects that ",c.fName," attend:"]})}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"subject"}),Object(d.jsx)("th",{children:"professor"})]})]}),Object(d.jsx)("tbody",{children:a.map((function(e){var t=O.find((function(t){return t.id===e.professor}));return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{className:"w50-td",children:e.subject}),Object(d.jsxs)("td",{className:"w50-td",children:[t.fName," ",t.lName]})]},e.id)}))})]})]}):Object(d.jsx)(l,{children:Object(d.jsx)("h2",{children:"Loading student..."})})},k=function(e){return Object(d.jsx)(I,{})},L=function(e){var t=Object(r.h)(),c=Object(n.useState)([]),s=Object(x.a)(c,2),j=s[0],i=s[1],u=Object(n.useState)(!0),l=Object(x.a)(u,2),b=l[0],o=l[1],O=v.collection("professors");Object(n.useEffect)((function(){O.get().then((function(e){return e.forEach((function(e){var t=e.data(),c=e.id,n=Object(f.a)({id:c},t);j.find((function(e){return e.id=c}))||(i((function(e){return[].concat(Object(h.a)(e),[n])})),o(!1))}))}))}),[]);return b?Object(d.jsx)("h2",{children:"Loading..."}):Object(d.jsx)("section",{children:j.map((function(e){return Object(d.jsxs)("div",{className:"item-wrapper",id:e.id,children:[Object(d.jsxs)("div",{className:"info-wrapper",children:[Object(d.jsx)("span",{children:"professor: "}),Object(d.jsxs)("span",{children:[e.fName," "]}),Object(d.jsxs)("span",{children:[e.lName," "]})]}),Object(d.jsxs)("div",{className:"btn-wrapper",children:[Object(d.jsx)(a.b,{to:"".concat(t.url,"/details/").concat(e.id),children:Object(d.jsx)("button",{className:"info-btn",children:"\u2139"})}),Object(d.jsx)(a.b,{to:"".concat(t.url,"/edit/").concat(e.id),children:Object(d.jsx)("button",{className:"change-btn",children:"edit"})}),Object(d.jsx)("button",{className:"delete-btn",onClick:function(){return t=e.id,void O.doc(t).delete().then((function(){console.log("professor successfully deleted!")}));var t},children:"delete"})]})]},e.id)}))})},P=function(){var e=Object(n.useState)([]),t=Object(x.a)(e,2),c=t[0],s=t[1],j=Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:" All Professors"}),Object(d.jsxs)("select",{className:"sort-btn",onChange:function(e){!function(e){var t=e;c.sort((function(e,c){return e[t]>c[t]?1:-1}));var n=JSON.parse(JSON.stringify(c));s(n)}(e.target.value)},children:[Object(d.jsx)("option",{value:"order",children:"sort by:"}),Object(d.jsx)("option",{value:"fName",children:"First Name"}),Object(d.jsx)("option",{value:"lName",children:"Last name"})]})]});return Object(d.jsxs)(l,{children:[j,Object(d.jsx)(L,{})]})},F=function(){return Object(d.jsx)(P,{})},D=s.a.memo((function(e){console.log("prof form props",e);var t=Object(n.useState)(""),c=Object(x.a)(t,2),s=c[0],j=c[1],i=Object(n.useState)(""),a=Object(x.a)(i,2),u=a[0],b=a[1],o=Object(n.useState)(!1),O=Object(x.a)(o,2),h=(O[0],O[1]),f=Object(r.f)();return Object(d.jsxs)(l,{children:[Object(d.jsx)("h2",{children:"Professor input form"}),Object(d.jsxs)("form",{onSubmit:function(t){if(console.log(t),t.preventDefault(),""===s||""===u)return h(!1),void alert("pls fill all fields");h(!0);var c={fName:s,lName:u,subject:""};e.onAddProfessor(c),j(""),b(""),f.replace("/students-input/all-professors")},children:[Object(d.jsxs)("div",{className:"form-control",children:[Object(d.jsx)("label",{htmlFor:"fName",children:"first name"}),Object(d.jsx)("input",{placeholder:e.professor?"".concat(e.professor.fName):"",type:"text",id:"fName",value:s,onChange:function(e){j(e.target.value)}})]}),Object(d.jsxs)("div",{className:"form-control",children:[Object(d.jsx)("label",{htmlFor:"lName",children:"last name"}),Object(d.jsx)("input",{placeholder:e.professor?"".concat(e.professor.lName):"",type:"text",id:"lName",value:u,onChange:function(e){b(e.target.value)}})]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{type:"submit",className:"add-btn",children:"Add student"})})]})]})})),J=function(){return Object(d.jsx)(D,{onAddProfessor:function(e){v.collection("professors").add(e).then((function(e){}))}})},B=function(){return Object(d.jsx)(J,{})},M=function(){var e=Object(r.g)(),t=Object(n.useState)({}),c=Object(x.a)(t,2),s=c[0],j=c[1],i=v.collection("professors").doc(e.id);Object(n.useEffect)((function(){i.get().then((function(e){var t=e.data();j(t)}))}),[]);return Object(d.jsx)(D,{onAddProfessor:function(e){i.update(e).then((function(){console.log("Document edited")}))},professor:s})},T=function(){return Object(d.jsx)(M,{})},q=function(){var e=Object(n.useState)({}),t=Object(x.a)(e,2),c=t[0],s=t[1],j=Object(n.useState)([]),i=Object(x.a)(j,2),a=i[0],u=i[1],b=Object(n.useState)(!1),o=Object(x.a)(b,2),O=o[0],h=o[1],p=Object(n.useState)(!1),m=Object(x.a)(p,2),N=m[0],g=m[1],S=Object(n.useState)(!0),y=Object(x.a)(S,2),w=y[0],E=y[1],C=Object(n.useState)("not assigned yet"),A=Object(x.a)(C,2),I=A[0],k=A[1],L=Object(r.g)().id;return Object(n.useEffect)((function(){if(N&&O&&(E(!0),""!==c.subject)){var e=a.find((function(e){return e.id===c.subject})).subject;k(e)}}),[N,O,w]),Object(n.useEffect)((function(){v.collection("professors").doc(L).get().then((function(e){var t=e.data();s(t),h(!0)}))}),[L]),Object(n.useEffect)((function(){v.collection("subjects").get().then((function(e){var t=[];e.forEach((function(e){var c=e.data(),n=e.id,s=Object(f.a)({id:n},c);t.push(s)})),u(t)})).finally((function(){g(!0)}))}),[]),w?Object(d.jsxs)(l,{children:[Object(d.jsxs)("h2",{children:[c.fName," info:"]}),Object(d.jsxs)("table",{id:"details-table",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"first name"}),Object(d.jsx)("th",{children:"last name"}),Object(d.jsx)("th",{children:"subject"}),Object(d.jsx)("th",{children:"unique id"})]})}),Object(d.jsx)("tbody",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsxs)("span",{children:[c.fName," "]})}),Object(d.jsx)("td",{children:Object(d.jsxs)("span",{children:[c.lName," "]})}),Object(d.jsx)("td",{children:I}),Object(d.jsx)("td",{children:L})]})})]})]}):Object(d.jsx)(l,{children:Object(d.jsx)("h2",{children:"Loading professor.."})})},z=function(e){return Object(d.jsx)(q,{})},R=function(e){return Object(d.jsxs)("section",{children:[Object(d.jsx)("h2",{children:"all professors list"}),Object(d.jsxs)("table",{children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"first name"}),Object(d.jsx)("th",{children:"last name"}),Object(d.jsx)("th",{children:"teaching"}),Object(d.jsx)("th",{style:{textAlign:"end"},children:"add to subject"})]})}),Object(d.jsx)("tbody",{children:e.professors.map((function(t){return Object(d.jsxs)("tr",{id:t.id,children:[Object(d.jsx)("td",{children:Object(d.jsxs)("span",{children:[t.fName," "]})}),Object(d.jsx)("td",{children:Object(d.jsxs)("span",{children:[t.lName," "]})}),Object(d.jsx)("td",{children:t.subject===e.subjectId?"yes":"x"}),Object(d.jsx)("td",{className:"btn-td delete-td",children:Object(d.jsx)("button",{className:"add-btn",onClick:function(){return e.onAddProfessorToSubject(t.id)},children:"add"})})]},t.id)}))})]})]})},G=(c(32),function(e){var t=e.subjectId,c=(e.userSubjects.find((function(e){return e.id===t})).subject,Object(n.useState)([])),s=Object(x.a)(c,2),j=s[0],i=s[1],a=v.collection("professors"),r=v.collection("subjects");Object(n.useEffect)((function(){a.get().then((function(e){return e.forEach((function(e){var t=e.data(),c=e.id,n=Object(f.a)({id:c},t);j.find((function(e){return e.id=c}))||i((function(e){return[].concat(Object(h.a)(e),[n])}))}))}))}),[]);return Object(d.jsxs)("div",{className:"Modal",children:[Object(d.jsx)("button",{className:"add-btn",onClick:function(){return e.onCloseModal()},children:"close list"}),Object(d.jsx)(R,{subjectId:t,professors:j,onAddProfessorToSubject:function(e){a.doc(e).update({subject:t}),r.doc(t).update({professor:e})}})]})}),H=c(25),U=function(e){var t=e.students.filter((function(t){return!Object.keys(t.subjects).includes(e.subjectId)}));return Object(d.jsx)("section",{children:Object(d.jsxs)("table",{children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"first name"}),Object(d.jsx)("th",{children:"last name"}),Object(d.jsx)("th",{style:{textAlign:"end"},children:"add to subject"})]})}),Object(d.jsx)("tbody",{children:t.map((function(t){return Object(d.jsxs)("tr",{id:t.id,children:[Object(d.jsx)("td",{children:Object(d.jsxs)("span",{children:[t.fName," "]})}),Object(d.jsx)("td",{children:Object(d.jsxs)("span",{children:[t.lName," "]})}),Object(d.jsx)("td",{className:"btn-td delete-td",children:Object(d.jsx)("button",{className:"add-btn",onClick:function(){return e.onAddStudentToSubject(t.id)},children:"add"})})]},t.id)}))})]})})},Y=function(e){var t=e.subjectId,c=e.userSubjects.find((function(e){return e.id===t})),s=(c.subject,c.professor),j=Object(n.useState)([]),i=Object(x.a)(j,2),a=i[0],r=i[1],u=v.collection("students");Object(n.useEffect)((function(){u.get().then((function(e){return e.forEach((function(e){var t=e.data(),c=e.id,n=Object(f.a)({id:c},t);a.find((function(e){return e.id=c}))||r((function(e){return[].concat(Object(h.a)(e),[n])}))}))}))}),[]);return Object(d.jsxs)("div",{className:"Modal",children:[Object(d.jsx)("button",{className:"add-btn",onClick:function(){return e.onCloseModal()},children:"close list"}),Object(d.jsx)(U,{subjectId:t,students:a,onAddStudentToSubject:function(e){void 0===s?s="":u.doc(e).set({subjects:Object(H.a)({},t,"")},{merge:!0});var c=a.filter((function(t){return t.id!==e}));r(c)}})]})},K=function(e){var t=Object(r.h)(),c=Object(n.useState)([]),s=Object(x.a)(c,2),j=s[0],i=s[1],u=Object(n.useState)(!0),b=Object(x.a)(u,2),o=b[0],O=b[1],p=Object(n.useState)(""),m=Object(x.a)(p,2),N=m[0],g=m[1],S=Object(n.useState)(!1),y=Object(x.a)(S,2),w=y[0],E=y[1],C=Object(n.useState)(!1),A=Object(x.a)(C,2),I=A[0],k=A[1];Object(n.useEffect)((function(){v.collection("subjects").get().then((function(e){return e.forEach((function(e){var t=e.data(),c=e.id,n=Object(f.a)({id:c},t);j.find((function(e){return e.id=c}))||(i((function(e){return[].concat(Object(h.a)(e),[n])})),O(!1))}))}))}),[]);var L=Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:" All Subjects"}),Object(d.jsxs)("select",{className:"sort-btn",onChange:function(e){!function(e){var t=e;j.sort((function(e,c){return e[t]>c[t]?1:-1}));var c=JSON.parse(JSON.stringify(j));i(c)}(e.target.value)},children:[Object(d.jsx)("option",{value:"order",children:"sort by:"}),Object(d.jsx)("option",{value:"fName",children:"First Name"}),Object(d.jsx)("option",{value:"lName",children:"Last name"})]})]});return Object(d.jsxs)(l,{children:[L,o&&Object(d.jsx)("h2",{children:"Loading..."}),w&&Object(d.jsx)(Y,{onCloseModal:function(){E(!1)},subjectId:N,userSubjects:j}),I&&Object(d.jsx)(G,{onCloseModal:function(){k(!1)},subjectId:N,userSubjects:j}),j.map((function(e){return Object(d.jsxs)("div",{className:"item-wrapper",id:e.id,children:[Object(d.jsx)("div",{className:"info-wrapper",children:Object(d.jsxs)("span",{children:["subject: ",e.subject]})}),Object(d.jsxs)("div",{className:"btn-wrapper",children:[Object(d.jsx)(a.b,{to:"".concat(t.url,"/details/").concat(e.id),children:Object(d.jsx)("button",{className:"info-btn",children:"\u2139"})}),Object(d.jsx)(a.b,{to:"".concat(t.url,"/edit/").concat(e.id),children:Object(d.jsx)("button",{className:"change-btn",children:"edit"})}),Object(d.jsx)("button",{className:"change-btn",onClick:function(){return function(e){g(e),E(!0)}(e.id)},children:"add student"}),Object(d.jsx)("button",{className:"change-btn",onClick:function(){return function(e){g(e),k(!0)}(e.id)},children:"add professor"}),Object(d.jsx)("button",{className:"delete-btn",onClick:function(){return function(e){v.collection("subjects").doc(e).delete().then((function(){console.log("Subject successfully deleted!")}))}(e.id)},children:"delete"})]})]},e.id)}))]})},Q=function(){return Object(d.jsx)(K,{})},X=s.a.memo((function(e){var t=Object(n.useState)(""),c=Object(x.a)(t,2),s=c[0],j=c[1],i=Object(n.useState)(!1),a=Object(x.a)(i,2),u=(a[0],a[1]),b=Object(r.f)();return Object(d.jsxs)(l,{children:[Object(d.jsx)("h2",{children:"Subject input form"}),Object(d.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),""===s)return u(!1),void alert("pls enter subject name");u(!0);var c={subject:s};e.onAddSubject(c),j(""),b.replace("/students-input/all-subjects")},children:[Object(d.jsxs)("div",{className:"form-control",children:[Object(d.jsx)("label",{htmlFor:"subject",children:"subject name"}),Object(d.jsx)("input",{placeholder:e.subject?"".concat(e.subject.subject):"",type:"text",id:"subject",value:s,onChange:function(e){j(e.target.value)}})]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{type:"submit",className:"add-btn",children:e.subject?"save changes":"add subject"})})]})]})})),Z=function(){return Object(d.jsx)(X,{onAddSubject:function(e){v.collection("subjects").add(e).then((function(e){}))}})},_=function(){return Object(d.jsx)(Z,{})},V=function(){var e=Object(r.g)(),t=Object(n.useState)({}),c=Object(x.a)(t,2),s=c[0],j=c[1],i=v.collection("subjects").doc(e.id);v.collection("profesors");Object(n.useEffect)((function(){i.get().then((function(e){var t=e.data();j(t)}))}),[]);return Object(d.jsx)(X,{onAddSubject:function(e){i.update({subject:e.subject})},subject:s})},W=function(){return Object(d.jsx)(V,{})},$=function(){var e=Object(n.useState)({}),t=Object(x.a)(e,2),c=t[0],s=t[1],j=Object(n.useState)([]),i=Object(x.a)(j,2),a=i[0],u=i[1],b=Object(n.useState)([]),o=Object(x.a)(b,2),O=o[0],h=o[1],p=Object(n.useState)(!1),m=Object(x.a)(p,2),N=m[0],g=m[1],S=Object(n.useState)(!1),y=Object(x.a)(S,2),w=y[0],E=y[1],C=Object(n.useState)(!1),A=Object(x.a)(C,2),I=A[0],k=A[1],L=Object(n.useState)(!1),P=Object(x.a)(L,2),F=P[0],D=P[1],J=Object(r.g)().id;Object(n.useEffect)((function(){N&&w&&D(!0)}),[N,w,I,F]),Object(n.useEffect)((function(){v.collection("subjects").doc(J).get().then((function(e){var t=e.data();s(t)})).finally((function(){E(!0)}))}),[J]),Object(n.useEffect)((function(){v.collection("students").get().then((function(e){var t=[];e.forEach((function(e){var c=e.data(),n=e.id,s=Object(f.a)({id:n},c);t.push(s)})),u(t)})).finally((function(){g(!0)}))}),[]),Object(n.useEffect)((function(){v.collection("professors").get().then((function(e){var t=[];e.forEach((function(e){var c=e.data(),n=e.id,s=Object(f.a)({id:n},c);t.push(s)})),h(t)})).finally((function(){k(!0)}))}),[]);var B=O.find((function(e){return e.id===c.professor}));return F?Object(d.jsxs)(l,{children:[Object(d.jsxs)("h2",{children:[c.subject," info:"]}),Object(d.jsxs)("table",{id:"details-table",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"title"}),Object(d.jsx)("th",{children:"professor"}),Object(d.jsx)("th",{children:"unique id"})]})}),Object(d.jsx)("tbody",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsxs)("span",{children:[c.subject," "]})}),Object(d.jsxs)("td",{children:[Object(d.jsx)("span",{children:B.fName}),Object(d.jsx)("span",{children:B.lName})]}),Object(d.jsx)("td",{children:J})]})})]}),Object(d.jsxs)("table",{children:[Object(d.jsx)("thead",{children:Object(d.jsx)("tr",{children:Object(d.jsx)("th",{children:"Student that attend this subject:"})})}),Object(d.jsx)("tbody",{children:a.map((function(e){return Object(d.jsx)("tr",{children:Object(d.jsxs)("td",{children:[e.fName," ",e.lName]})},e.id)}))})]})]}):Object(d.jsx)(l,{children:Object(d.jsx)("h2",{children:"Loading subject.."})})},ee=function(){return Object(d.jsx)($,{})};var te=function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)(u,{}),Object(d.jsxs)(r.c,{children:[Object(d.jsx)(r.a,{path:"/students-input",exact:!0,children:Object(d.jsx)(b,{})}),Object(d.jsx)(r.a,{path:"/students-input/add",exact:!0,children:Object(d.jsx)(O,{})}),Object(d.jsx)(r.a,{path:"/students-input/all-students",exact:!0,children:Object(d.jsx)(g,{})}),Object(d.jsx)(r.a,{path:"/students-input/all-subjects",exact:!0,children:Object(d.jsx)(Q,{})}),Object(d.jsx)(r.a,{path:"/students-input/all-professors",exact:!0,children:Object(d.jsx)(F,{})}),Object(d.jsx)(r.a,{path:"/students-input/all-students/details/:id",exact:!0,children:Object(d.jsx)(k,{})}),Object(d.jsx)(r.a,{path:"/students-input/all-students/edit/:id",exact:!0,children:Object(d.jsx)(A,{})}),Object(d.jsx)(r.a,{path:"/students-input/all-subjects/details/:id",exact:!0,children:Object(d.jsx)(ee,{})}),Object(d.jsx)(r.a,{path:"/students-input/all-subjects/edit/:id",exact:!0,children:Object(d.jsx)(W,{})}),Object(d.jsx)(r.a,{path:"/students-input/all-professors/details/:id",exact:!0,children:Object(d.jsx)(z,{})}),Object(d.jsx)(r.a,{path:"/students-input/all-professors/edit/:id",exact:!0,children:Object(d.jsx)(T,{})}),Object(d.jsx)(r.a,{path:"/students-input/add-new-student",exact:!0,children:Object(d.jsx)(E,{})}),Object(d.jsx)(r.a,{path:"/students-input/add-new-subject",exact:!0,children:Object(d.jsx)(_,{})}),Object(d.jsx)(r.a,{path:"/students-input/add-new-professor",exact:!0,children:Object(d.jsx)(B,{})})]})]})},ce=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,59)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,j=t.getLCP,i=t.getTTFB;c(e),n(e),s(e),j(e),i(e)}))};i.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(a.a,{children:Object(d.jsx)(te,{})})}),document.getElementById("root")),ce()}},[[58,1,2]]]);
//# sourceMappingURL=main.e93f3b64.chunk.js.map