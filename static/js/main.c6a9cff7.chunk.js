(this["webpackJsonpstudents-input"]=this["webpackJsonpstudents-input"]||[]).push([[0],{25:function(t,e,n){},26:function(t,e,n){},36:function(t,e,n){},37:function(t,e,n){},38:function(t,e,n){},39:function(t,e,n){"use strict";n.r(e);var c=n(1),s=n.n(c),r=n(18),i=n.n(r),a=n(8),j=(n(25),n(2)),d=(n(26),n(0)),l=function(){return Object(d.jsxs)("header",{children:[Object(d.jsx)("div",{className:"logo",children:Object(d.jsx)(a.b,{to:"/students-input/homepage",children:"CupeX first app"})}),Object(d.jsx)("nav",{children:Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:Object(d.jsx)(a.b,{to:"/students-input/allstudents",children:"All students"})}),Object(d.jsx)("li",{children:Object(d.jsx)(a.b,{to:"/students-input/newstudent",children:"Add NEW student"})})]})})]})},u=n(20),b=n(13),o=n(5),h=(n(36),function(t){return Object(d.jsx)("div",{className:"card",children:t.children})}),O=function(){var t=Object(c.useState)(""),e=Object(o.a)(t,2),n=e[0],s=e[1],r=Object(j.f)().id;return Object(c.useEffect)((function(){fetch("https://students-input-default-rtdb.europe-west1.firebasedatabase.app/student/".concat(r,".json")).then((function(t){return t.json()})).then((function(t){var e=Object(b.a)({},t);s(e)}))}),[r]),Object(d.jsxs)(h,{children:[Object(d.jsxs)("h2",{children:[n.fName," ",n.lName," info:"]}),Object(d.jsxs)("table",{id:"details-table",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"first name"}),Object(d.jsx)("th",{children:"last name"}),Object(d.jsx)("th",{children:"birth"}),Object(d.jsx)("th",{children:"password"}),Object(d.jsx)("th",{children:"unique id"})]})}),Object(d.jsx)("tbody",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsxs)("span",{children:[n.fName," "]})}),Object(d.jsx)("td",{children:Object(d.jsxs)("span",{children:[n.lName," "]})}),Object(d.jsx)("td",{children:n.year}),Object(d.jsx)("td",{children:n.password}),Object(d.jsx)("td",{children:r})]})})]})]})},x=(n(37),function(t){var e=Object(j.g)();return Object(d.jsx)("section",{children:Object(d.jsxs)("table",{children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"info"}),Object(d.jsx)("th",{children:"first name"}),Object(d.jsx)("th",{children:"last name"}),Object(d.jsx)("th",{children:"birth"})]})}),Object(d.jsx)("tbody",{children:t.students.map((function(n){return Object(d.jsxs)("tr",{id:n.id,children:[Object(d.jsx)("td",{className:"btn-td",children:Object(d.jsx)(a.b,{to:"".concat(e.url,"/").concat(n.id),children:Object(d.jsx)("button",{className:"info-btn",children:"\u2139"})})}),Object(d.jsx)("td",{children:Object(d.jsxs)("span",{children:[n.fName," "]})}),Object(d.jsx)("td",{children:Object(d.jsxs)("span",{children:[n.lName," "]})}),Object(d.jsx)("td",{children:n.year}),Object(d.jsx)("td",{className:"btn-td change-td",children:Object(d.jsx)("button",{className:"change-btn",onClick:function(){return t.onChangeInput(n.id)},children:"change"})}),Object(d.jsx)("td",{className:"btn-td delete-td",children:Object(d.jsx)("button",{className:"delete-btn",onClick:function(){return t.onRemoveStudent(n.id)},children:"delete student"})})]},n.id)}))})]})})}),f=function(){var t=Object(c.useState)([]),e=Object(o.a)(t,2),n=e[0],s=e[1],r=Object(c.useState)(!0),i=Object(o.a)(r,2),a=i[0],j=i[1],l=Object(c.useState)(!1),f=Object(o.a)(l,2),p=f[0],m=f[1],v=Object(c.useState)(""),N=Object(o.a)(v,2),g=N[0],S=N[1];Object(c.useEffect)((function(){j(!0),fetch("https://students-input-default-rtdb.europe-west1.firebasedatabase.app/student.json").then((function(t){return t.json()})).then((function(t){var e=[];for(var n in t){var c=Object(b.a)({id:n},t[n]);e.push(c)}j(!1),s(e)}))}),[]);var y=Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:" All Students"}),Object(d.jsxs)("select",{className:"sort-btn",onChange:function(t){!function(t){var e=t;n.sort((function(t,n){return t[e]>n[e]?1:-1}));var c=JSON.parse(JSON.stringify(n));s(c)}(t.target.value)},children:[Object(d.jsx)("option",{value:"order",children:"sort by:"}),Object(d.jsx)("option",{value:"fName",children:"First Name"}),Object(d.jsx)("option",{value:"lName",children:"Last name"}),Object(d.jsx)("option",{value:"year",children:"Date of Birth"})]})]});return a?Object(d.jsx)(h,{children:Object(d.jsx)("h2",{children:"Loading..."})}):Object(d.jsx)("div",{children:Object(d.jsx)("section",{children:Object(d.jsxs)(h,{children:[p&&Object(d.jsx)(O,{student:g}),!p&&y,!p&&Object(d.jsx)(x,{students:n,onRemoveStudent:function(t){+prompt("enter password")===+n.filter((function(e){return e.id===t})).map((function(t){return t.password}))?function(t){fetch("https://students-input-default-rtdb.europe-west1.firebasedatabase.app/student/".concat(t,".json"),{method:"DELETE"});var e=n.filter((function(e){return e.id!==t}));s(e)}(t):alert("wrong password!")},onChangeInput:function(t){var e=prompt("enter new first name"),c=prompt("enter new last name");n.filter((function(e){return e.id===t})).map((function(t){t.fName=e,t.lName=c}));var r=JSON.parse(JSON.stringify(n));s(r);var i=n.filter((function(e){return e.id===t}));fetch("https://students-input-default-rtdb.europe-west1.firebasedatabase.app/student/".concat(t,".json"),{method:"PUT",body:JSON.stringify.apply(JSON,Object(u.a)(i)),headers:{"Content-Type":"application/json"}})},onViewStudent:function(t){var e=n.filter((function(e){return e.id===t}));S(e),m(!0)}})]})})})},p=function(){return Object(d.jsx)(f,{})},m=s.a.memo((function(t){var e=Object(c.useState)(""),n=Object(o.a)(e,2),s=n[0],r=n[1],i=Object(c.useState)(""),a=Object(o.a)(i,2),j=a[0],l=a[1],u=Object(c.useState)(""),b=Object(o.a)(u,2),O=b[0],x=b[1],f=Object(c.useState)(""),p=Object(o.a)(f,2),m=p[0],v=p[1],N=Object(c.useState)(!1),g=Object(o.a)(N,2),S=(g[0],g[1]);return Object(d.jsx)("section",{children:Object(d.jsxs)(h,{children:[Object(d.jsx)("h2",{children:"Students input form"}),Object(d.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===s||""===j||""===O||""===m)return S(!1),void alert("pls fill all fields");S(!0);var n={fName:s,lName:j,year:O,password:m};t.onAddStudent(n),r(""),l(""),x(""),v("")},children:[Object(d.jsxs)("div",{className:"form-control",children:[Object(d.jsx)("label",{htmlFor:"fName",children:"First Name:"}),Object(d.jsx)("input",{type:"text",id:"fName",value:s,onChange:function(t){r(t.target.value)}})]}),Object(d.jsxs)("div",{className:"form-control",children:[Object(d.jsx)("label",{htmlFor:"lName",children:"Last Name:"}),Object(d.jsx)("input",{type:"text",id:"lName",value:j,onChange:function(t){l(t.target.value)}})]}),Object(d.jsxs)("div",{className:"form-control",children:[Object(d.jsx)("label",{htmlFor:"year",children:"date of birth:"}),Object(d.jsx)("input",{type:"date",min:"1980-01-01",id:"year",value:O,onChange:function(t){x(t.target.value)}})]}),Object(d.jsxs)("div",{className:"form-control",children:[Object(d.jsx)("label",{htmlFor:"pass",children:"Password:"}),Object(d.jsx)("input",{type:"number",id:"pass",value:m,onChange:function(t){v(t.target.value)}})]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{type:"submit",className:"add-btn",children:"Add student"})})]})]})})})),v=function(){return Object(d.jsx)(m,{onAddStudent:function(t){fetch("https://students-input-default-rtdb.europe-west1.firebasedatabase.app/student.json",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})}})},N=function(){return Object(d.jsx)(v,{})},g=function(){return Object(d.jsx)(h,{children:Object(d.jsx)("h1",{children:"Home Page"})})};n(38);var S=function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)(l,{}),Object(d.jsxs)(j.c,{children:[Object(d.jsx)(j.a,{path:"/students-input/homepage",exact:!0,children:Object(d.jsx)(g,{})}),Object(d.jsx)(j.a,{path:"/students-input/allstudents",exact:!0,children:Object(d.jsx)(p,{})}),Object(d.jsx)(j.a,{path:"/students-input/allstudents/:id",exact:!0,children:Object(d.jsx)(O,{})}),Object(d.jsx)(j.a,{path:"/students-input/newstudent",exact:!0,children:Object(d.jsx)(N,{})})]})]})},y=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,40)).then((function(e){var n=e.getCLS,c=e.getFID,s=e.getFCP,r=e.getLCP,i=e.getTTFB;n(t),c(t),s(t),r(t),i(t)}))};i.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(a.a,{children:Object(d.jsx)(S,{})})}),document.getElementById("root")),y()}},[[39,1,2]]]);
//# sourceMappingURL=main.c6a9cff7.chunk.js.map