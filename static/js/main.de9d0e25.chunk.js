(this["webpackJsonpstudents-input"]=this["webpackJsonpstudents-input"]||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),r=n(18),a=n.n(r),i=n(9),j=(n(25),n(2)),d=n(20),l=n(17),o=n(7),u=(n(26),n(0)),b=function(e){return Object(u.jsx)("div",{className:"card",children:e.children})},h=s.a.memo((function(e){var t=Object(c.useState)(""),n=Object(o.a)(t,2),s=n[0],r=n[1],a=Object(c.useState)(""),i=Object(o.a)(a,2),j=i[0],d=i[1],l=Object(c.useState)(""),h=Object(o.a)(l,2),O=h[0],f=h[1],x=Object(c.useState)(""),p=Object(o.a)(x,2),m=p[0],v=p[1],N=Object(c.useState)(1),g=Object(o.a)(N,2),S=g[0],y=g[1],w=Object(c.useState)(!1),C=Object(o.a)(w,2),F=(C[0],C[1]);return Object(u.jsx)("section",{children:Object(u.jsxs)(b,{children:[Object(u.jsx)("h2",{children:"Students input form"}),Object(u.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),""===s||""===j||""===O||""===m)return F(!1),void alert("pls fill all fields");F(!0);var n={fName:s,lName:j,year:O,password:m,order:S};e.onAddStudent(n),r(""),d(""),f(""),v(""),y(S+1)},children:[Object(u.jsxs)("div",{className:"form-control",children:[Object(u.jsx)("label",{htmlFor:"fName",children:"First Name:"}),Object(u.jsx)("input",{type:"text",id:"fName",value:s,onChange:function(e){r(e.target.value)}})]}),Object(u.jsxs)("div",{className:"form-control",children:[Object(u.jsx)("label",{htmlFor:"lName",children:"Last Name:"}),Object(u.jsx)("input",{type:"text",id:"lName",value:j,onChange:function(e){d(e.target.value)}})]}),Object(u.jsxs)("div",{className:"form-control",children:[Object(u.jsx)("label",{htmlFor:"year",children:"Date of birth:"}),Object(u.jsx)("input",{type:"number",id:"year",value:O,onChange:function(e){f(e.target.value)}})]}),Object(u.jsxs)("div",{className:"form-control",children:[Object(u.jsx)("label",{htmlFor:"pass",children:"Password:"}),Object(u.jsx)("input",{type:"number",id:"pass",value:m,onChange:function(e){v(e.target.value)}})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"submit",className:" add-btn",children:"Add student"})})]})]})})})),O=(n(28),function(e){return Object(u.jsx)("section",{children:Object(u.jsxs)("table",{children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"first name"}),Object(u.jsx)("th",{children:"last name"}),Object(u.jsx)("th",{children:"birth"}),Object(u.jsx)("th",{})]})}),Object(u.jsx)("tbody",{children:e.students.map((function(t){return Object(u.jsxs)("tr",{id:t.id,children:[Object(u.jsxs)("td",{children:[t.fName," "]}),Object(u.jsxs)("td",{children:[t.lName," "]}),Object(u.jsx)("td",{children:t.year}),Object(u.jsx)("td",{className:"btn-td",children:Object(u.jsx)("button",{className:"delete-btn",onClick:function(){return e.onRemoveStudent(t.id)},children:"delete student"})})]},t.id)}))})]})})}),f=function(e){var t=Object(c.useState)([]),n=Object(o.a)(t,2),s=n[0],r=n[1],a=Object(c.useState)(!0),i=Object(o.a)(a,2),j=i[0],f=i[1];Object(c.useEffect)((function(){f(!0),fetch("https://students-input-default-rtdb.europe-west1.firebasedatabase.app/student.json").then((function(e){return e.json()})).then((function(e){var t=[];for(var n in e){var c=Object(l.a)({id:n},e[n]);t.push(c)}f(!1),r(t)}))}),[]);return j?Object(u.jsx)("p",{children:"Loading..."}):Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{onAddStudent:function(e){console.log(s),fetch("https://students-input-default-rtdb.europe-west1.firebasedatabase.app/student.json",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}),r((function(t){return[].concat(Object(d.a)(t),[Object(l.a)({},e)])}))}}),Object(u.jsx)("section",{children:Object(u.jsxs)(b,{children:[Object(u.jsx)("h2",{children:" All Students"}),Object(u.jsxs)("select",{className:"sort-btn",onChange:function(e){!function(e){var t=e;s.sort((function(e,n){return e[t]>n[t]?1:-1}));var n=JSON.parse(JSON.stringify(s));r(n)}(e.target.value)},children:[Object(u.jsx)("option",{value:"order",children:"sort by:"}),Object(u.jsx)("option",{value:"fName",children:"First Name"}),Object(u.jsx)("option",{value:"lName",children:"Last name"}),Object(u.jsx)("option",{value:"year",children:"Date of Birth"})]}),Object(u.jsx)(O,{students:s,onRemoveStudent:function(e){+prompt("enter password")===+s.filter((function(t){return t.id===e})).map((function(e){return e.password}))?function(e){fetch("https://students-input-default-rtdb.europe-west1.firebasedatabase.app/student/".concat(e,".json"),{method:"DELETE"});var t=s.filter((function(t){return t.id!==e}));r(t)}(e):alert("wrong password!")}})]})})]})},x=function(){return Object(u.jsx)(f,{})},p=(n(29),n(30),function(){return Object(u.jsxs)("header",{children:[Object(u.jsx)("div",{className:"logo",children:"CupeX first app"}),Object(u.jsx)("nav",{children:Object(u.jsx)("ul",{children:Object(u.jsx)("li",{children:Object(u.jsx)(i.b,{to:"/",children:"All students"})})})})]})});var m=function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)(p,{}),Object(u.jsx)(j.c,{children:Object(u.jsx)(j.a,{path:"/",exact:!0,children:Object(u.jsx)(x,{})})})]})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,40)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),s(e),r(e),a(e)}))};a.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(i.a,{children:Object(u.jsx)(m,{})})}),document.getElementById("root")),v()}},[[39,1,2]]]);
//# sourceMappingURL=main.de9d0e25.chunk.js.map